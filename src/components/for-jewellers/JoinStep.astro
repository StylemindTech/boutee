---
import { Image } from "astro:assets";
import btnIcon from "../../assets/icons/btn-icon.svg";
---

<section class="py-section-padding-mobile lg:py-section-padding-desktop">
  <div class="max-w-container-max-width px-container-padding-mobile lg:px-container-padding-desktop mx-auto">
    <div class="grid md:grid-cols-2 md:gap-component-gap-medium items-start">
      <div>
        <h2 class="lg:text-heading-desktop text-heading-mobile lg:leading-heading-desktop leading-heading-mobile font-black text-center font-ppradio md:text-start md:mb-component-gap-medium mb-text-gap-medium">
          Joining Boutee in <br /> 3 Simple Steps
        </h2>
        <div class="hidden md:block">
          <button type="button" class="spinBtn cursor-pointer bg-btnPrimary relative text-white text-body-mobile leading-body-mobile py-button-padding-y mx-auto md:ml-0 min-h-[56px] min-w-[167px] px-button-padding-x-desktop rounded-full font-figtree font-medium flex items-center gap-3">
            <Image src={btnIcon} class="btnIcon w-5 h-5" alt="image" />
            Join Boutee
          </button>
        </div>
      </div>

      <div class="space-y-text-gap-small max-w-[600px] ml-auto boutee-join-timeline" data-aos="fade-up" data-aos-once="true">
        <!-- Step 1 -->
        <div class="flex gap-component-gap-medium">
          <div class="flex flex-col gap-text-gap-small items-center">
            <div class="bg-brand-2 font-figtree text-textPrimary lg:text-large-desktop text-body-desktop lg:leading-large-desktop leading-large-mobile font-bold lg:w-[40px] w-[38px] lg:h-[40px] h-[38px] rounded-full flex items-center justify-center">
              1
            </div>
            <div class="w-[1px] lg:min-h-[68px] min-h-[92px] flex-1 overflow-hidden">
              <div class="boutee-line-1 w-full h-0 bg-textPrimary"></div>
            </div>
          </div>
          <div>
            <h3 class="font-bold lg:text-large-desktop text-body-desktop lg:leading-large-desktop leading-large-mobile text-black font-figtree">
              Register Your Interest
            </h3>
            <p class="font-figtree lg:text-body-desktop text-body-mobile lg:leading-large-mobile leading-body-mobile text-textSecondary lg:mt-text-gap-small mt-s">
              Submit the form below. <br />
              We'll send you more detailed information and a short questionnaire
              to ensure we're a good fit.
            </p>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="flex gap-component-gap-medium">
          <div class="flex flex-col gap-text-gap-small items-center">
            <div class="bg-brand-2 font-figtree text-textPrimary lg:text-large-desktop text-body-desktop lg:leading-large-desktop leading-large-mobile font-bold lg:w-[40px] w-[38px] lg:h-[40px] h-[38px] rounded-full flex items-center justify-center">
              2
            </div>
            <div class="w-[1px] lg:min-h-[68px] min-h-[92px] flex-1 overflow-hidden">
              <div class="boutee-line-2 w-full h-0 bg-textPrimary"></div>
            </div>
          </div>
          <div>
            <h3 class="font-bold lg:text-large-desktop text-body-desktop lg:leading-large-desktop leading-large-mobile text-black font-figtree">
              Set Up Your Profile
            </h3>
            <p class="font-figtree lg:text-body-desktop text-body-mobile lg:leading-large-mobile leading-body-mobile text-textSecondary lg:mt-text-gap-small mt-s">
              Once approved, you'll get access to your personal Jeweller Portal
              where you can easily upload your work and set your bespoke
              parameters.
            </p>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="flex gap-component-gap-medium">
          <div class="flex flex-col gap-text-gap-small items-center">
            <div class="bg-brand-2 font-figtree text-textPrimary lg:text-large-desktop text-body-desktop lg:leading-large-desktop leading-large-mobile font-bold lg:w-[40px] w-[38px] lg:h-[40px] h-[38px] rounded-full flex items-center justify-center">
              3
            </div>
          </div>
          <div>
            <h3 class="font-bold lg:text-large-desktop text-body-desktop lg:leading-large-desktop leading-large-mobile text-black font-figtree">
              Go Live
            </h3>
            <p class="font-figtree lg:text-body-desktop text-body-mobile lg:leading-large-mobile leading-body-mobile text-textSecondary lg:mt-text-gap-small mt-s">
              We'll work with you to get your profile perfect before launching
              you on the platform and welcoming you to the community.
            </p>
          </div>
        </div>
      </div>

      <div class="md:hidden mt-[44px]">
        <button type="button" class="spinBtn cursor-pointer bg-btnPrimary relative text-white text-body-mobile leading-body-mobile py-button-padding-y mx-auto md:ml-0 min-h-[56px] min-w-[167px] px-button-padding-x-desktop rounded-full font-figtree font-medium flex items-center gap-3">
          <Image src={btnIcon} class="btnIcon w-5 h-5" alt="image" />
          Join Boutee
        </button>
      </div>
    </div>
  </div>
</section>

<style>
  /* Sequential line animations for Join Boutee section */
  .boutee-join-timeline.aos-animate .boutee-line-1 {
    animation: growLine 0.6s ease-out forwards;
  }
  
  .boutee-join-timeline.aos-animate .boutee-line-2 {
    animation: growLine 0.6s ease-out 0.6s forwards;
  }

  @keyframes growLine {
    from {
      height: 0;
    }
    to {
      height: 100%;
    }
  }
</style>